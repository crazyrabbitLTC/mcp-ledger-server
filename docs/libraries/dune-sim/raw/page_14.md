# Build a Realtime Wallet - Sim by Dune

Source: page_14

![ETH Logo](https://api.dune.com/api/echo/beta/token/logo/1)

ETH

**$667.27**

0.14 ETH


![WETH Logo](https://api.dune.com/api/echo/beta/token/logo/1/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2)

Wrapped Ether

**$33.50**

0.01 WETH


![ETH Logo](https://api.dune.com/api/echo/beta/token/logo/8453)

ETH

**$4.75**

0 ETH


![POL Logo](https://api.dune.com/api/echo/beta/token/logo/137)

POL

**$0.48**

1.93 POL


![WBTC Logo](https://api.dune.com/api/echo/beta/token/logo/1/0x2260fac5e5542a773aa44fbcfedf7c193bc2c599)

Wrapped BTC

**$0.10**

0 WBTC


![XEN Logo](https://api.dune.com/api/echo/beta/token/logo/1/0x06450dee7fd2fb8e39061434babcfc05599a6fb8)

XEN Crypto

**$0.03**

1,000,000 XEN


![xDG Logo](https://api.dune.com/api/echo/beta/token/logo/1/0x4f81c790581b240a5c948afd173620ecc8c71c8d)

Decentral Games Governance

**$NaN**

0 xDG


worl

worldcoin.pm

**$NaN**

290 worldcoin.pm


Clai

$ cpusdc.com

**$NaN**

6,500,230 Claim USDC at https://cpusdc.co


hUSD

hUSDC.cc

**$NaN**

1,185 hUSDC


Clai

$ cusdcs.eth.li

**$NaN**

1,300 Claim USDC at https://cusdcs.et


Clai

$ cUSDC.cc

**$NaN**

1,000 Claim USDC at https://cUSDC.cc


xdai

xdai.usdc20.com

**$NaN**

620 xdai.usdc20.com


Clai

$ hUSDC.cc

**$NaN**

390 Claim USDC at https://hUSDC.cc


Bell

$ BellaFi.net

**$NaN**

5,000,000 BellaFi at https://bellafi.net


Pump

@CowPump

**$NaN**

21,000,000 Pump at https://t.me/cowpump


xdai

xdai.firstchef.net

**$NaN**

600,000,000 xdai.firstchef.net


Bala

Balancer

**$NaN**

750 BalancerV2.com


Clai

$ USDCpool.tech

**$NaN**

938 Claim USDC/WETH at https://USDC


http

~ KjUSD.tech

**$NaN**

227.3 https://KjUSD.tech to claim rew


Bala

Balancer

**$NaN**

392 BalancerV2.com


$

E T H - B O N U S ˳ N E T

**$NaN**

10,000 $


Clai

$ enstoken.io

**$NaN**

14,000 Claim $ENS rewards at https://e


Clai

$ wbtc.fi

**$NaN**

125 Claim $wBTC rewards at https://


hUSD

hUSDC.cc

**$NaN**

1,185 hUSDC


celo

celo.worldcoin.pm

**$NaN**

290 celo.worldcoin.pm



↓



Received Token




From

0xdcc1...a7c8


8/15/2025


+<0.0001


↓



Received Token




From

0xdcc1...a7c8


8/15/2025


+<0.0001


↓



Received Token




From

0xdcc1...a7c8


8/15/2025


+<0.0001


↓



Received Token




From

0xb4ed...5ae2


7/17/2025


+<0.0001


↓



Received Token




From

0x26dd...9544


6/13/2025


+<0.0001


↓



Received Token




From

0x26dd...9544


6/13/2025


+<0.0001


↓



Received Token




From

0x26dd...9544


6/13/2025


+<0.0001


✓

Mint




Interaction



4/20/2025


✓

Mint




Interaction



4/14/2025


↓



Received Token




From

0xd8d9...8604


3/29/2025


+<0.0001


↓



Received WETH \[ WWW.20ETH.EU \] Visit to




From

0x03b5...bccd


3/27/2025


+<0.0001 WETH


↓



Received ENT




From

0xd152...2150


2/20/2025


+123.0696525 ENT


↓



Received Token




From

0x6736...5cd6


2/19/2025


+12064 Tokens


↓



Received ETH




From

0x1288...5687


2/13/2025


+0.0001 ETH


↑



Sent ETH




To

0x1288...5687


2/13/2025


 -0.0001 ETH


↓



Received Token




From

0x239b...9fce


2/11/2025


↓



Received $weETH - Redeem: t.ly/weth




From

0x04c0...150a


2/11/2025


+<0.0001 weETH


↓



Received $TRUMP - Claim: t.ly/TRUMP - #1




From

0xc274...2ad4


2/11/2025


+<0.0001 TRUMP


↓



Received Token




From

0x38b1...4f6b


2/11/2025


+<0.0001


↑



Sent USDC




To

0x5c7b...35c5


2/11/2025


 -600 USDC


↓



Received Token




From

0x3ab3...f1de


2/11/2025


+<0.0001


✓

Approve




Interaction



2/11/2025


1.16e+71 USDC


↓



Received Token




From

0x7f62...9de2


2/5/2025


+<0.0001


✓

Mint




Interaction



1/6/2025


✓

Mint




Interaction



12/30/2024

[![win-t-ly-pancakeswap-finance-4800](https://i2.seadn.io/base/0xd0022b41cebde1f1534bfd36bb34c53868b3dbdb/1c6d231b66f9975e3d0e32de0b6917/0a1c6d231b66f9975e3d0e32de0b6917.png)\\
\\
win-t-ly-pancakeswap-finance-4800\\
\\
\\
#352](https://opensea.io/assets/base/0xcb3aa125aa7cc8899be5a7f16887e94c77470b50/352) [![cake-t-me-claimcake-459](https://i2.seadn.io/base/0x7f971816b4d310d9b3495c04125975c8763832cc/b1f5864b0d5a922376644a0f62f063/b6b1f5864b0d5a922376644a0f62f063.png)\\
\\
cake-t-me-claimcake-459\\
\\
\\
#550](https://opensea.io/assets/base/0x7e1755976991943ba8a0a3720b6890908daba37b/550) [![visit-genesiseth-net-to-claim-rewards](https://i2.seadn.io/ethereum/0xc0dd6f128af029e49538eb04a829b2cb5cd222ca/d938efb2b524f9265ba87de126b153/41d938efb2b524f9265ba87de126b153.png)\\
\\
visit-genesiseth-net-to-claim-rewards\\
\\
\\
#0](https://opensea.io/assets/ethereum/0x02f1ba6a29eba401adc143a589cb35aea32496c5/0) [![0fblst37](https://i2.seadn.io/blast/0x1d392df16abab748d26e3ec3cf8999521a548152/afef88e57cf110d304b0bcfa54af3b/0cafef88e57cf110d304b0bcfa54af3b.gif)\\
\\
0fblst37\\
\\
\\
#1](https://opensea.io/assets/blast/0x26ebee8cda8a7465f8681e7256e5071cb2d82b54/1) [![visit-wbtcprotocol-org-to-claim-rewards-27](https://i2.seadn.io/ethereum/0xe1fa534a284c96a2c8ce9a5895d6d9f4eb8d7b01/bc1a1576a8ad93f89c4edf258f8899/fdbc1a1576a8ad93f89c4edf258f8899.png)\\
\\
visit-wbtcprotocol-org-to-claim-rewards-27\\
\\
\\
#0](https://opensea.io/assets/ethereum/0x1247f65b58f5af791635454a5d5733488e76d743/0) [![ethdenver-2025-2](https://i2.seadn.io/polygon/0x213fb0f798263b51159871280061489eae13c5b5/38c56de4dfd98d5f053e20adbdd92d/6138c56de4dfd98d5f053e20adbdd92d.png)\\
\\
ethdenver-2025-2\\
\\
\\
#3302](https://opensea.io/assets/matic/0x213fb0f798263b51159871280061489eae13c5b5/3302) [![addbox-232](https://i2.seadn.io/base/0xedda41277b2f6bdee5a739227730a678608041e5/4ac03b58f03bc15de29a29b49039de/bd4ac03b58f03bc15de29a29b49039de.png)\\
\\
addbox-232\\
\\
\\
#0](https://opensea.io/assets/base/0xce46e81b694561330e2b929c306668ab65f7edd8/0) [![abcs-1193-331](https://raw2.seadn.io/base/0x5155cdc8b0fd0a61cd1222ad2ad8eb2315b656b1/14c26679dbfbeb22e23f8bcdf916aa/6a14c26679dbfbeb22e23f8bcdf916aa.glb)\\
\\
abcs-1193-331\\
\\
\\
#0](https://opensea.io/assets/base/0x5155cdc8b0fd0a61cd1222ad2ad8eb2315b656b1/0) [![1eth-voucher-719](https://i2.seadn.io/matic/0x29e1f7adb45f09c0950f65882d19971f469e217f/7c6f54896878b0d5466302ca0a03ad/617c6f54896878b0d5466302ca0a03ad.png)\\
\\
1eth-voucher-719\\
\\
\\
#1](https://opensea.io/assets/matic/0x29e1f7adb45f09c0950f65882d19971f469e217f/1) [![2000-usdt-voucher-158](https://i2.seadn.io/matic/0x47492a0469620b2f1d007365ecc7d7b5a9117fe6/88c963c59459fbe6b403911c7b7b3e/9d88c963c59459fbe6b403911c7b7b3e.jpeg)\\
\\
2000-usdt-voucher-158\\
\\
\\
#1](https://opensea.io/assets/matic/0x13c1bd61a53d40e116e110bb295450b4d2a4e296/1) [![1000-usdc-airdrop-162](https://i2.seadn.io/matic/0x502654642883dbe9b22c0b951defc3de1dd75900/1076ddc326dd660dcedfc9b99bc3ff/b91076ddc326dd660dcedfc9b99bc3ff.jpeg)\\
\\
1000-usdc-airdrop-162\\
\\
\\
#1](https://opensea.io/assets/matic/0x2dbfadf2abf5765f0a0a042011014ca3f2995277/1) [![ens](https://raw2.seadn.io/ethereum/0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85/f6237d7d7bb21040175ec7d5f1fb90/27f6237d7d7bb21040175ec7d5f1fb90.svg)\\
\\
ens\\
\\
\\
#31028722...](https://opensea.io/assets/ethereum/0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85/3102872246189957194038281293791236645431571827784652282305290186671947549795) [![ens](https://raw2.seadn.io/ethereum/0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85/0a99c6786c5ffec3be782eaf3a816d/5e0a99c6786c5ffec3be782eaf3a816d.svg)\\
\\
ens\\
\\
\\
#61618221...](https://opensea.io/assets/ethereum/0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85/6161822126072164532344594736035980465666085757228814365506580288171371305768) [![maverick-incentive-reward-2](https://i2.seadn.io/ethereum/0xbd38995e41287ebd91b62004e7f906d6c1e96cbd/8cb80738ff6c197310cd92114294ef48.png)\\
\\
maverick-incentive-reward-2\\
\\
\\
#2](https://opensea.io/assets/ethereum/0xbd38995e41287ebd91b62004e7f906d6c1e96cbd/2) [![lido-whitelist-514](https://i2.seadn.io/matic/0x18b49e43052332fb54fb3bfde132a21aeaa4e3b5/0b698c6779dbfd34972d78c0bb81df/770b698c6779dbfd34972d78c0bb81df.png)\\
\\
lido-whitelist-514\\
\\
\\
#1](https://opensea.io/assets/matic/0x104ba01625dc5b30b6cfec23513c21dac7252d77/1) [![lido-whitelist-191](https://i2.seadn.io/matic/0xaa9e89035e2cbce074d1759753c789cce1abb5b8/770b698c6779dbfd34972d78c0bb81df.png)\\
\\
lido-whitelist-191\\
\\
\\
#4740](https://opensea.io/assets/matic/0x3ac081368db15981f9958d4f0fe04b23874d3988/4740) [![bitcase-freespin-115](https://i2.seadn.io/matic/0xc3621f30924533d45e8a9eb3c11cd4a83544a71d/08afe3e8159b444aab3bbac6b7725b83.png)\\
\\
bitcase-freespin-115\\
\\
\\
#1179](https://opensea.io/assets/matic/0x2d77a579b3dfb1284887a3ec08aa53e090d500bf/1179) [![revolution-399](https://i2.seadn.io/matic/0x2b57d648a05052fa90f1add577115fe61464ece4/efe014c0b8a2149d96d9cb20e8e8fe/93efe014c0b8a2149d96d9cb20e8e8fe.png)\\
\\
revolution-399\\
\\
\\
#6304](https://opensea.io/assets/matic/0xb906d376036706ba06920cae346ccd96106a8b10/6304) [![uniswap-summer-event-93](https://i2.seadn.io/matic/0x32981c1f0000c6b80be2bf9c2ee4873c6c8f8a34/00bbf95d2cd397eac9153e88e89287/eb00bbf95d2cd397eac9153e88e89287.png)\\
\\
uniswap-summer-event-93\\
\\
\\
#5574](https://opensea.io/assets/matic/0x60d99436b43cf8f5778d71e36789bd23a7b15f50/5574) [![polygon-event-123](https://i2.seadn.io/matic/0xd37acae9a3f0ef382468ef44b6389573c1d6a524/a5dd541f3915566e4e89dc4e3418ef7a.png)\\
\\
polygon-event-123\\
\\
\\
#9132](https://opensea.io/assets/matic/0x304fe843a0c483587dc53da2dcf72ec7868140d8/9132) [![1000-usdc-163](https://i2.seadn.io/matic/0xfbac4c4449fb431ac2f8122c7f45d4781f0ee7a8/e66898676f4e0c0b96259b4c9bbfc8/b8e66898676f4e0c0b96259b4c9bbfc8.jpeg)\\
\\
1000-usdc-163\\
\\
\\
#0](https://opensea.io/assets/matic/0x405d41688906b472ad7f6f2c121964d8f1d9d209/0) [![ape-nft-tickets-224](https://i2.seadn.io/matic/0xea6db37754f2b0ffcfd25a5dd92e47fbaec73be0/1d5a0b9bec94a0c7d3b2503716f4b7/c41d5a0b9bec94a0c7d3b2503716f4b7.png)\\
\\
ape-nft-tickets-224\\
\\
\\
#167](https://opensea.io/assets/matic/0x0c43d61405c7a1d89545f9e3bbbee29660265cc4/167) [![optimism-nft-tickets-401](https://i2.seadn.io/matic/0xadfbeda160dbab5e32f3904ac086ccb4c6a32c6a/100a13b0b5603fa9dd8fbd6d074e2d/f0100a13b0b5603fa9dd8fbd6d074e2d.png)\\
\\
optimism-nft-tickets-401\\
\\
\\
#4978](https://opensea.io/assets/matic/0xadfbeda160dbab5e32f3904ac086ccb4c6a32c6a/4978)

$706.14

0x48D004a6C175dB331E99BeAf64423b3098357Ae7

`mkdir wallet-ui
cd wallet-ui
` `wallet-ui` `npm init -y
npm pkg set type="module"
` `package.json` `npm install express ejs dotenv numbro
` `.env` `.env` `touch .env
` `.env` `# Your Sim API key (required)
SIM_API_KEY=your_api_key_here
` `.env` `.env` `.gitignore` `mkdir views
mkdir public
` `views` `public` `touch server.js
touch views/wallet.ejs
touch public/styles.css
` `server.js` ``import express from 'express';
import numbro from 'numbro';
import dotenv from 'dotenv';
import path from 'path';
import { fileURLToPath } from 'url';
// Load environment variables
dotenv.config();
const SIM_API_KEY = process.env.SIM_API_KEY;
if (!SIM_API_KEY) {
    console.error("FATAL ERROR: SIM_API_KEY is not set in your environment variables.");
    process.exit(1);
}
// Set up __dirname for ES modules
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);
// Initialize Express
const app = express();
// Configure Express settings
app.set('view engine', 'ejs');
app.set('views', path.join(__dirname, 'views'));
app.use(express.static(path.join(__dirname, 'public')));
// Add our home route
app.get('/', async (req, res) => {
    const {
        walletAddress = '',
        tab = 'tokens' // Default to tokens tab
    } = req.query;
    let tokens = [];
    let totalWalletUSDValue = 0;
    let activities = []; // For Guide 2
    let collectibles = []; // For Guide 3
    // In later steps, these arrays will be populated with API data.
    res.render('wallet', {
        walletAddress: walletAddress,
        currentTab: tab,
        totalWalletUSDValue: '$0.00', // Will be calculated later in this guide.
        tokens: tokens,
        activities: activities,
        collectibles: collectibles
    });
});
// Start the server
app.listen(3001, () => {
    console.log(`Server running at http://localhost:3001`);
});
`` `views/wallet.ejs` ``<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sim APIs Wallet UI - A simple and elegant wallet interface for viewing crypto assets and transactions">
    <meta name="theme-color" content="#0b0e1f">
    <title>Sim APIs Wallet UI</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;700&family=IBM+Plex+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
<div class="mobile-container">
    <header class="app-header">
        <div class="profile-pic-placeholder"></div>
        <div class="header-title">Wallet</div>
        <div class="settings-icon"></div>
    </header>
    <section class="total-balance-section">
        <p class="total-balance-amount"><%= totalWalletUSDValue %></p>
        <p class="total-balance-label js-wallet-address-display"><%= walletAddress || 'Enter wallet address...' %></p>
    </section>
    <nav class="tabs">
        <button class="tab-button <%= currentTab === 'tokens' ? 'active' : '' %>" data-tab="tokens">Tokens</button>
        <button class="tab-button <%= currentTab === 'activity' ? 'active' : '' %>" data-tab="activity">Activity</button>
        <button class="tab-button <%= currentTab === 'collectibles' ? 'active' : '' %>" data-tab="collectibles">Collectibles</button>
    </nav>
    <main class="tab-content">
        <!-- Tokens Tab Pane -->
        <div id="tokens" class="tab-pane <%= currentTab === 'tokens' ? 'active' : '' %>">
            <% if (tokens && tokens.length > 0) { %>
                <% tokens.forEach(token => { %>
                    <div class="list-item">
                        <% if (token.token_metadata && token.token_metadata.logo) { %>
                            <img src="<%= token.token_metadata.logo %>" alt="<%= token.symbol || 'Token' %> Logo" class="item-icon-placeholder" style="object-fit: contain; padding: 6px;">
                        <% } else { %>
                            <div class="item-icon-placeholder"><%= token.symbol ? token.symbol.substring(0, 4) : '?' %></div>
                        <% } %>
                        <div class="item-info">
                            <% if (token.token_metadata && token.token_metadata.url) { %>
                                <p class="item-name"><a href="<%= token.token_metadata.url %>" target="_blank" style="color: inherit; text-decoration: none;"><%= token.name || token.symbol %></a></p>
                            <% } else { %>
                                <p class="item-name"><%= token.name || token.symbol %></p>
                            <% } %>
                        </div>
                        <div class="item-value-right">
                            <p class="item-usd-value">
                                <strong>
                                    <%= token.valueUSDFormatted || (token.value_usd != null ? token.value_usd : 'N/A') %>
                                </strong>
                            </p>
                            <p class="item-sub-info">
                                <%= token.amountFormatted || token.amount %> <%= token.symbol %>
                            </p>
                        </div>
                    </div>
                <% }); %>
            <% } else if (walletAddress) { %>
                <p style="text-align: center; padding-top: 30px; color: var(--color-text-muted);">No tokens found for this wallet.</p>
            <% } else { %>
                <p style="text-align: center; padding-top: 30px; color: var(--color-text-muted);">Enter a wallet address above to see token balances.</p>
            <% } %>
        </div>
       <!-- Activity Tab Pane (for Guide 2) -->
        <div id="activity" class="tab-pane <%= currentTab === 'activity' ? 'active' : '' %>">
            <p style="font-family: var(--font-primary); text-align: center; padding-top: 30px; color: var(--color-text-muted);">Activity feature will be added in the next guide.</p>
        </div>
        <!-- Collectibles Tab Pane (for Guide 3) -->
        <div id="collectibles" class="tab-pane <%= currentTab === 'collectibles' ? 'active' : '' %>">
            <p style="font-family: var(--font-primary); text-align: center; padding-top: 30px; color: var(--color-text-muted);">Collectibles feature will be added in a future guide.</p>
        </div>
    </main>
</div>
<script>
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabPanes = document.querySelectorAll('.tab-pane');
    const walletAddressDisplay = document.querySelector(".js-wallet-address-display");
    tabButtons.forEach(button => {
        button.addEventListener('click', () => {
            const tab = button.dataset.tab;
            const currentWalletAddress = new URLSearchParams(window.location.search).get('walletAddress');
            if (currentWalletAddress) {
                window.location.search = `?walletAddress=${currentWalletAddress}&tab=${tab}`;
            } else {
                // If no wallet address, just switch tab visually without reload, or prompt
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabPanes.forEach(pane => pane.classList.remove('active'));
                button.classList.add('active');
                document.getElementById(tab).classList.add('active');
            }
        });
    });
    walletAddressDisplay.addEventListener('click', () => {
        let newWalletAddress = prompt("Enter wallet address:", new URLSearchParams(window.location.search).get('walletAddress') || '');
        if (newWalletAddress !== null && newWalletAddress.trim() !== "") {
             const currentTab = new URLSearchParams(window.location.search).get('tab') || 'tokens';
             window.location.search = `?walletAddress=${newWalletAddress.trim()}&tab=${currentTab}`;
        } else if (newWalletAddress !== null) { // Empty input, clear address
             const currentTab = new URLSearchParams(window.location.search).get('tab') || 'tokens';
             window.location.search = `?tab=${currentTab}`;
        }
    });
    // Set active tab based on URL param on page load
    document.addEventListener('DOMContentLoaded', () => {
        const params = new URLSearchParams(window.location.search);
        const tab = params.get('tab') || 'tokens';

        tabButtons.forEach(btn => btn.classList.remove('active'));
        tabPanes.forEach(pane => pane.classList.remove('active'));
        const activeButton = document.querySelector(`.tab-button[data-tab="${tab}"]`);
        const activePane = document.getElementById(tab);
        if (activeButton) activeButton.classList.add('active');
        if (activePane) activePane.classList.add('active');
    });
</script>
</body>
</html>
`` `public/styles.css` `:root {
--font-primary: 'IBM Plex Sans', sans-serif;
--font-mono: 'IBM Plex Mono', monospace;
--color-bg-deep: #e1e2f9;
--color-bg-container: #141829;
--color-border-primary: #2c3040;
--color-border-secondary: #222636;
--color-text-primary: #ffffff;
--color-text-secondary: #e0e0e0;
--color-text-muted: #a0a3b1;
--color-text-subtle: #808391;
--color-accent-green: #50e3c2;
--color-accent-purple: #7e87ef;
--color-accent-red: #ff7875;
--color-placeholder-bg: #3a3f58;
}
body {
font-family: var(--font-primary);
background-color: var(--color-bg-deep);
color: var(--color-text-secondary);
margin: 0;
padding: 0;
display: flex;
justify-content: center;
align-items: center;
min-height: 100vh;
padding-top: 0;
padding-bottom: 0;
height: 100vh;
}
.mobile-container {
width: 100%;
max-width: 420px;
height: 90vh;
max-height: 800px;
min-height: 600px;
background-color: var(--color-bg-container);
border-radius: 20px;
display: flex;
flex-direction: column;
overflow: hidden;
align-self: center;
box-shadow: 0 8px 32px rgba(20, 24, 41, 0.18), 0 1.5px 6px rgba(20, 24, 41, 0.10);
}
/* Header Styles */
.app-header {
display: flex;
justify-content: space-between;
align-items: center;
padding: 20px;
border-bottom: 1px solid var(--color-border-primary);
flex-shrink: 0;
}
.profile-pic-placeholder {
width: 36px;
height: 36px;
background-color: var(--color-placeholder-bg);
border-radius: 50%;
}
.header-title {
font-family: var(--font-primary);
font-size: 1.4em;
font-weight: 600; /* IBM Plex Sans SemiBold */
color: var(--color-text-primary);
}
.settings-icon {
width: 22px;
height: 22px;
background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23e0e0e0'%3E%3Cpath d='M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12-.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z'/%3E%3C/svg%3E");
background-repeat: no-repeat;
background-size: contain;
cursor: pointer;
opacity: 0.8;
}
/* Total Balance Section */
.total-balance-section {
padding: 25px 20px;
text-align: center;
border-bottom: 1px solid var(--color-border-primary);
flex-shrink: 0;
}
.total-balance-amount {
font-family: var(--font-mono); /* Mono for large number */
font-size: 2.3em;
font-weight: 700;
margin: 0;
color: var(--color-accent-green);
}
.total-balance-label {
font-family: var(--font-primary);
font-size: 0.85em;
color: var(--color-text-muted);
margin-top: 2px;
cursor: pointer; /* Make it look clickable */
}
.total-balance-label:hover {
    color: var(--color-text-primary);
}
/* Tabs Section */
.tabs {
display: flex;
border-bottom: 1px solid var(--color-border-primary);
flex-shrink: 0;
position: relative;
z-index: 1;
}
.tab-button {
font-family: var(--font-primary);
flex-grow: 1;
padding: 14px;
text-align: center;
cursor: pointer;
background-color: transparent;
border: none;
color: var(--color-text-muted);
font-size: 0.95em;
font-weight: 500; /* IBM Plex Sans Medium */
border-bottom: 3px solid transparent;
transition: color 0.2s ease, border-bottom-color 0.2s ease;
}
.tab-button:hover {
color: var(--color-text-primary);
}
.tab-button.active {
color: var(--color-text-primary);
border-bottom: 3px solid var(--color-accent-purple);
}
.tab-content {
padding: 0px 20px 20px 20px;
flex-grow: 1;
min-height: 0;
max-height: calc(100vh - 220px);
overflow-y: auto;
}
.tab-pane { display: none; }
.tab-pane.active { display: block; }
/* Tokens Tab & Activity Tab Styles */
.list-item {
display: flex;
align-items: center;
padding: 16px 0;
border-bottom: 1px solid var(--color-border-secondary);
}
.list-item:last-child { border-bottom: none; }
.item-icon-placeholder {
width: 38px;
height: 38px;
background-color: #2c3040; /* Using a specific color, not var for contrast */
border-radius: 50%;
margin-right: 15px;
display: flex;
justify-content: center;
align-items: center;
font-family: var(--font-mono); /* Mono for symbols like ETH */
font-weight: 500;
font-size: 0.9em;
color: #c0c3d1; /* Using specific color */
flex-shrink: 0;
overflow: hidden; /* Prevents text overflow if symbol is too long */
}
.item-info {
flex-grow: 1;
min-width: 0; /* Prevents text overflow issues in flex children */
}
.item-name { /* Token Name, Activity Type like "Received", "Sent" */
font-family: var(--font-primary);
font-size: 1.05em;
font-weight: 500; /* IBM Plex Sans Medium */
margin: 0 0 3px 0;
color: var(--color-text-primary);
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;
}
.item-sub-info { /* "1.2345 ETH on Ethereum", "Price: $800.00" */
font-family: var(--font-primary); /* Sans for descriptive part */
font-size: 0.85em;
color: var(--color-text-muted);
margin: 0;
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;
}
.item-sub-info .mono { /* Span class for monospaced parts within sub-info */
font-family: var(--font-mono);
}
.item-value-right {
text-align: right;
flex-shrink: 0;
padding-left: 10px;
}
.item-usd-value { /* USD value of holding */
font-family: var(--font-mono); /* Mono for numerical USD value */
font-size: 1.05em;
font-weight: 500;
margin: 0 0 3px 0;
color: var(--color-text-primary);
}
/* Activity Tab Specifics */
.activity-direction { /* "Received ETH", "Sent USDC" */
font-family: var(--font-primary);
font-size: 1.05em;
font-weight: 500; /* IBM Plex Sans Medium */
margin: 0 0 3px 0;
}
.activity-direction.sent { color: var(--color-accent-red); }
.activity-direction.receive { color: var(--color-accent-green); } /* Ensure class name consistency with JS */
.activity-address, .activity-timestamp {
font-family: var(--font-primary); /* Sans for "From:", "To:" */
font-size: 0.8em;
color: var(--color-text-subtle);
margin: 0;
}
.activity-address .mono, .activity-timestamp .mono { /* For address itself and timestamp value */
font-family: var(--font-mono);
}
.activity-amount-right { /* "+0.5 ETH" */
font-family: var(--font-mono); /* Mono for amount + symbol */
font-size: 1.05em;
font-weight: 500;
}
.activity-amount-right.sent { color: var(--color-accent-red); }
.activity-amount-right.receive { color: var(--color-accent-green); }
/* NFT Grid Container */
.collectibles-grid {
    display: grid;
    grid-template-columns: repeat(1, 1fr);
    gap: 1rem;
    padding-top: 20px;
    width: 100%;
}
/* NFT Item Container */
.collectible-item-link {
    text-decoration: none;
    color: inherit;
    display: block;
    transition: transform 0.2s ease;
}
.collectible-item-link:hover {
    transform: translateY(-2px);
}
.collectible-item {
    position: relative;
    border-radius: 12px;
    overflow: hidden;
    background: var(--color-bg-container);
    border: 1px solid var(--color-border-secondary);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}
/* Image Container */
.collectible-image-container {
    position: relative;
    width: 100%;
    padding-bottom: 100%; /* Creates a square aspect ratio */
    background: var(--color-placeholder-bg);
}
.collectible-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}
/* Image Placeholder */
.collectible-image-placeholder {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    font-family: var(--font-primary);
    font-weight: 600;
    font-size: 0.875rem;
}
/* NFT Info Container - Static (always visible) */
.collectible-info-static {
    padding: 0.75rem;
    background: var(--color-bg-container);
    border-top: 1px solid var(--color-border-secondary);
}
/* NFT Info Container - Hover (keep for backwards compatibility but not used) */
.collectible-info {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 0.75rem;
    background: linear-gradient(transparent, rgba(0, 0, 0, 0.85));
    color: white;
    opacity: 0;
    transition: opacity 0.3s ease;
}
.collectible-item-link:hover .collectible-info {
    opacity: 1;
}
/* NFT Text Styles */
.collectible-name {
    font-family: var(--font-primary);
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--color-text-primary);
}
.collectible-collection {
    font-family: var(--font-mono);
    font-size: 0.8rem;
    margin-bottom: 0;
    opacity: 0.9;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--color-text-muted);
}
.collectible-chain {
    font-family: var(--font-primary);
    font-size: 0.7rem;
    opacity: 0.8;
    color: white;
}
` `ls` `wallet-ui/` ``wallet-ui/
├── server.js             # Main application file with Express server
├── views/                # Directory for EJS templates
│   └── wallet.ejs        # Main wallet UI template
├── public/               # Directory for static assets
│   └── styles.css        # CSS styling for the wallet UI
├── package.json          # Project configuration
├── package-lock.json     # Dependency lock file (if `npm install` was run)
├── node_modules/         # Installed packages (if `npm install` was run)
└── .env                  # Your environment variables
`` `node server.js` `http://localhost:3001` `.env` `SIM_API_KEY` `walletAddress` `server.js` `server.js` `app.get('/')` ``async function getWalletBalances(walletAddress) {
    if (!walletAddress) return []; // Return empty if no address
    // Construct the query parameters
    // metadata=url,logo fetches token URLs and logo images
    const queryParams = `metadata=url,logo`;
    const url = `https://api.sim.dune.com/v1/evm/balances/${walletAddress}?${queryParams}`;
    try {
        const response = await fetch(url, {
            headers: {
                'X-Sim-Api-Key': SIM_API_KEY, // Your API key from .env
                'Content-Type': 'application/json'
            }
        });
        if (!response.ok) {
            const errorBody = await response.text();
            console.error(`API request failed with status ${response.status}: ${response.statusText}`, errorBody);
            throw new Error(`API request failed: ${response.statusText}`);
        }
        const data = await response.json();
        // The API returns JSON with a "balances" key. We return that directly.
        return data.balances;
    } catch (error) {
        console.error("Error fetching wallet balances:", error.message);
        return []; // Return empty array on error
    }
}
`` `fetch` `SIM_API_KEY` `/v1/evm/balances/{address}` `metadata=url,logo` `app.get('/')` `server.js` `getWalletBalances` ``app.get('/', async (req, res) => {
    const {
        walletAddress = '',
        tab = 'tokens'
    } = req.query;
    let tokens = [];
    let totalWalletUSDValue = 0;
    let errorMessage = null;
    if (walletAddress) {
        try {
            tokens = await getWalletBalances(walletAddress);
        } catch (error) {
            console.error("Error in route handler:", error);
            errorMessage = "Failed to fetch wallet data. Please try again.";
            // tokens will remain empty, totalWalletUSDValue will be 0
        }
    }
    res.render('wallet', {
        walletAddress: walletAddress,
        currentTab: tab,
        totalWalletUSDValue: `$0.00`, // We'll calculate this in the next section
        tokens: tokens,
        activities: [], // Placeholder for Guide 2
        collectibles: [], // Placeholder for Guide 3
        errorMessage: errorMessage
    });
});
`` `getWalletBalances` `walletAddress` `balances` `wallet.ejs` `views/wallet.ejs` `node server.js` `walletAddress` `http://localhost:3001/?walletAddress=0xd8da6bf26964af9d7eed9e03e53415d37aa96045` `1.23` `1230000000000000000` `decimals` `balanceFormatted` `getWalletBalances` `server.js` `data.balances` `balanceFormatted` ``async function getWalletBalances(walletAddress) {
    if (!walletAddress) return [];
    const queryParams = `metadata=url,logo`;
    const url = `https://api.sim.dune.com/v1/evm/balances/${walletAddress}?${queryParams}`;
    try {
        const response = await fetch(url, {
            headers: {
                'X-Sim-Api-Key': SIM_API_KEY,
                'Content-Type': 'application/json'
            }
        });
        if (!response.ok) {
            const errorBody = await response.text();
            console.error(`API request failed with status ${response.status}: ${response.statusText}`, errorBody);
            throw new Error(`API request failed: ${response.statusText}`);
        }
        const data = await response.json();

        // Return formatted values and amounts
        return (data.balances || []).map(token => {
            // 1. Calculate human-readable token amount
            const numericAmount = parseFloat(token.amount) / Math.pow(10, parseInt(token.decimals));
            // 2. Get numeric USD value
            const numericValueUSD = parseFloat(token.value_usd);
            // 3. Format using numbro
            const valueUSDFormatted = numbro(numericValueUSD).format('$0,0.00');
            const amountFormatted = numbro(numericAmount).format('0,0.[00]A');
            return {
                ...token,
                valueUSDFormatted,
                amountFormatted
            };
        }).filter(token => token.symbol !== 'RTFKT'); // Removing Spam Tokens. Add more if you like.
    } catch (error) {
        console.error("Error fetching wallet balances:", error.message);
        return [];
    }
}
`` `getWalletBalances` `balanceFormatted` `views/wallet.ejs` `<%= token.balanceFormatted || token.amount %>` `$0.00` `value_usd` `app.get('/')` `value_usd` `totalWalletUSDValue` `app.get('/', async (req, res) => {
    const {
        walletAddress = '',
        tab = 'tokens'
    } = req.query;
    let tokens = [];
    let totalWalletUSDValue = 0; // Will be updated
    let errorMessage = null;
    if (walletAddress) {
        try {
            tokens = await getWalletBalances(walletAddress);
            // Calculate the total USD value from the fetched tokens
            if (tokens && tokens.length > 0) {
                tokens.forEach(token => {
                    let individualValue = parseFloat(token.value_usd);
                    if (!isNaN(individualValue)) {
                        totalWalletUSDValue += individualValue;
                    }
                });
            }

            totalWalletUSDValue = numbro(totalWalletUSDValue).format('$0,0.00');
        } catch (error) {
            console.error("Error in route handler:", error);
            errorMessage = "Failed to fetch wallet data. Please try again.";
            // tokens will remain empty, totalWalletUSDValue will be 0
        }
    }
    res.render('wallet', {
        walletAddress: walletAddress,
        currentTab: tab,
        totalWalletUSDValue: totalWalletUSDValue, // Pass the calculated total
        tokens: tokens,
        activities: [], // Placeholder for Guide 2
        collectibles: [], // Placeholder for Guide 3
        errorMessage: errorMessage
    });
});
` `reduce` `tokens` `token` `value_usd` `sum` `totalWalletUSDValue` `views/wallet.ejs` `<p class="total-balance-amount"><%= totalWalletUSDValue %></p>` `Balances API`

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```

```