# Show NFT Collectibles in Your Wallet - Sim by Dune

Source: page_40

![ETH Logo](https://api.dune.com/api/echo/beta/token/logo/1)

ETH

**$667.27**

0.14 ETH


![WETH Logo](https://api.dune.com/api/echo/beta/token/logo/1/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2)

Wrapped Ether

**$33.50**

0.01 WETH


![ETH Logo](https://api.dune.com/api/echo/beta/token/logo/8453)

ETH

**$4.75**

0 ETH


![POL Logo](https://api.dune.com/api/echo/beta/token/logo/137)

POL

**$0.48**

1.93 POL


![WBTC Logo](https://api.dune.com/api/echo/beta/token/logo/1/0x2260fac5e5542a773aa44fbcfedf7c193bc2c599)

Wrapped BTC

**$0.10**

0 WBTC


![XEN Logo](https://api.dune.com/api/echo/beta/token/logo/1/0x06450dee7fd2fb8e39061434babcfc05599a6fb8)

XEN Crypto

**$0.03**

1,000,000 XEN


![xDG Logo](https://api.dune.com/api/echo/beta/token/logo/1/0x4f81c790581b240a5c948afd173620ecc8c71c8d)

Decentral Games Governance

**$NaN**

0 xDG


worl

worldcoin.pm

**$NaN**

290 worldcoin.pm


Clai

$ cpusdc.com

**$NaN**

6,500,230 Claim USDC at https://cpusdc.co


hUSD

hUSDC.cc

**$NaN**

1,185 hUSDC


Clai

$ cusdcs.eth.li

**$NaN**

1,300 Claim USDC at https://cusdcs.et


Clai

$ cUSDC.cc

**$NaN**

1,000 Claim USDC at https://cUSDC.cc


xdai

xdai.usdc20.com

**$NaN**

620 xdai.usdc20.com


Clai

$ hUSDC.cc

**$NaN**

390 Claim USDC at https://hUSDC.cc


Bell

$ BellaFi.net

**$NaN**

5,000,000 BellaFi at https://bellafi.net


Pump

@CowPump

**$NaN**

21,000,000 Pump at https://t.me/cowpump


xdai

xdai.firstchef.net

**$NaN**

600,000,000 xdai.firstchef.net


Bala

Balancer

**$NaN**

750 BalancerV2.com


Clai

$ USDCpool.tech

**$NaN**

938 Claim USDC/WETH at https://USDC


http

~ KjUSD.tech

**$NaN**

227.3 https://KjUSD.tech to claim rew


Bala

Balancer

**$NaN**

392 BalancerV2.com


$

E T H - B O N U S ˳ N E T

**$NaN**

10,000 $


Clai

$ enstoken.io

**$NaN**

14,000 Claim $ENS rewards at https://e


Clai

$ wbtc.fi

**$NaN**

125 Claim $wBTC rewards at https://


hUSD

hUSDC.cc

**$NaN**

1,185 hUSDC


celo

celo.worldcoin.pm

**$NaN**

290 celo.worldcoin.pm



↓



Received Token




From

0xdcc1...a7c8


8/15/2025


+<0.0001


↓



Received Token




From

0xdcc1...a7c8


8/15/2025


+<0.0001


↓



Received Token




From

0xdcc1...a7c8


8/15/2025


+<0.0001


↓



Received Token




From

0xb4ed...5ae2


7/17/2025


+<0.0001


↓



Received Token




From

0x26dd...9544


6/13/2025


+<0.0001


↓



Received Token




From

0x26dd...9544


6/13/2025


+<0.0001


↓



Received Token




From

0x26dd...9544


6/13/2025


+<0.0001


✓

Mint




Interaction



4/20/2025


✓

Mint




Interaction



4/14/2025


↓



Received Token




From

0xd8d9...8604


3/29/2025


+<0.0001


↓



Received WETH \[ WWW.20ETH.EU \] Visit to




From

0x03b5...bccd


3/27/2025


+<0.0001 WETH


↓



Received ENT




From

0xd152...2150


2/20/2025


+123.0696525 ENT


↓



Received Token




From

0x6736...5cd6


2/19/2025


+12064 Tokens


↓



Received ETH




From

0x1288...5687


2/13/2025


+0.0001 ETH


↑



Sent ETH




To

0x1288...5687


2/13/2025


 -0.0001 ETH


↓



Received Token




From

0x239b...9fce


2/11/2025


↓



Received $weETH - Redeem: t.ly/weth




From

0x04c0...150a


2/11/2025


+<0.0001 weETH


↓



Received $TRUMP - Claim: t.ly/TRUMP - #1




From

0xc274...2ad4


2/11/2025


+<0.0001 TRUMP


↓



Received Token




From

0x38b1...4f6b


2/11/2025


+<0.0001


↑



Sent USDC




To

0x5c7b...35c5


2/11/2025


 -600 USDC


↓



Received Token




From

0x3ab3...f1de


2/11/2025


+<0.0001


✓

Approve




Interaction



2/11/2025


1.16e+71 USDC


↓



Received Token




From

0x7f62...9de2


2/5/2025


+<0.0001


✓

Mint




Interaction



1/6/2025


✓

Mint




Interaction



12/30/2024

[![0fblst37](https://i2.seadn.io/blast/0x1d392df16abab748d26e3ec3cf8999521a548152/afef88e57cf110d304b0bcfa54af3b/0cafef88e57cf110d304b0bcfa54af3b.gif)\\
\\
0fblst37\\
\\
\\
#1](https://opensea.io/assets/blast/0x26ebee8cda8a7465f8681e7256e5071cb2d82b54/1)

$706.13

0x48D004a6C175dB331E99BeAf64423b3098357Ae7

`getWalletCollectibles` `server.js` ``async function getWalletCollectibles(walletAddress, limit = 50) {
    if (!walletAddress) return [];
    const url = `https://api.sim.dune.com/v1/evm/collectibles/${walletAddress}?limit=${limit}`;
    try {
        const response = await fetch(url, {
            headers: {
                'X-Sim-Api-Key': SIM_API_KEY,
                'Content-Type': 'application/json'
            }
        });
        if (!response.ok) {
            const errorBody = await response.text();
            console.error(`Collectibles API request failed with status ${response.status}: ${response.statusText}`, errorBody);
            throw new Error(`Collectibles API request failed: ${response.statusText}`);
        }
        const data = await response.json();
        const collectibles = data.entries || [];

        // ... (OpenSea enrichment will be added in the next section)

    } catch (error) {
        console.error("Error fetching wallet collectibles:", error.message);
        return [];
    }
}
`` `entries` `limit` `offset` `next_offset` `.env` `SIM_API_KEY=your_sim_api_key_here
OPENSEA_API_KEY=your_opensea_api_key_here
` `getWalletCollectibles` ``async function getWalletCollectibles(walletAddress, limit = 50) {
    if (!walletAddress) return [];
    const url = `https://api.sim.dune.com/v1/evm/collectibles/${walletAddress}?limit=${limit}`;
    try {
        const response = await fetch(url, {
            headers: {
                'X-Sim-Api-Key': SIM_API_KEY,
                'Content-Type': 'application/json'
            }
        });
        if (!response.ok) {
            const errorBody = await response.text();
            console.error(`Collectibles API request failed with status ${response.status}: ${response.statusText}`, errorBody);
            throw new Error(`Collectibles API request failed: ${response.statusText}`);
        }
        const data = await response.json();
        const collectibles = data.entries || [];
        // Enrich collectibles with OpenSea image data
        const enrichedCollectibles = await Promise.all(
            collectibles.map(async (collectible) => {
                try {
                    // Use the chain value directly from Sim APIs
                    if (collectible.chain) {
                        const openSeaUrl = `https://api.opensea.io/api/v2/chain/${collectible.chain}/contract/${collectible.contract_address}/nfts/${collectible.token_id}`;

                        const openSeaResponse = await fetch(openSeaUrl, {
                            headers: {
                                'Accept': 'application/json',
                                'x-api-key': process.env.OPENSEA_API_KEY
                            }
                        });
                        if (openSeaResponse.ok) {
                            const openSeaData = await openSeaResponse.json();
                            return {
                                ...collectible,
                                image_url: openSeaData.nft?.image_url || null,
                                opensea_url: openSeaData.nft?.opensea_url || null,
                                description: openSeaData.nft?.description || null,
                                collection_name: openSeaData.nft?.collection || collectible.name
                            };
                        }
                    }

                    // Return original collectible if OpenSea fetch fails or no chain info
                    return {
                        ...collectible,
                        image_url: null,
                        opensea_url: null,
                        description: null,
                        collection_name: collectible.name
                    };
                } catch (error) {
                    console.error(`Error fetching OpenSea data for ${collectible.chain}:${collectible.contract_address}:${collectible.token_id}:`, error.message);
                    return {
                        ...collectible,
                        image_url: null,
                        opensea_url: null,
                        description: null,
                        collection_name: collectible.name
                    };
                }
            })
        );
        // Filter out collectibles without images
        return enrichedCollectibles.filter(collectible => collectible.image_url !== null);
    } catch (error) {
        console.error("Error fetching wallet collectibles:", error.message);
        return [];
    }
}
`` `image_url` `opensea_url` `description` `collection_name` `app.get('/')` `server.js` ``app.get('/', async (req, res) => {
    const {
        walletAddress = '',
        tab = 'tokens'
    } = req.query;
    let tokens = [];
    let activities = [];
    let collectibles = []; // Initialize collectibles array
    let totalWalletUSDValue = 0;
    let errorMessage = null;
    if (walletAddress) {
        try {
            // Fetch balances, activities, and collectibles concurrently for better performance
            [tokens, activities, collectibles] = await Promise.all([\
                getWalletBalances(walletAddress),\
                getWalletActivity(walletAddress, 25), // Fetching 25 recent activities\
                getWalletCollectibles(walletAddress, 50) // Fetching up to 50 collectibles\
            ]);
            // Calculate total portfolio value from token balances (Guide 1)
            if (tokens && tokens.length > 0) {
                totalWalletUSDValue = tokens.reduce((sum, token) => {
                    const value = parseFloat(token.value_usd);
                    return sum + (isNaN(value) ? 0 : value);
                }, 0);
            }
        } catch (error) {
            console.error("Error in route handler fetching all data:", error);
            errorMessage = "Failed to fetch wallet data. Please try again.";
        }
    }

    res.render('wallet', {
        walletAddress: walletAddress,
        currentTab: tab,
        totalWalletUSDValue: `$${totalWalletUSDValue.toFixed(2)}`,
        tokens: tokens,
        activities: activities,
        collectibles: collectibles, // Pass collectibles to the template
        errorMessage: errorMessage
    });
});
`` `collectibles` `wallet.ejs` `views/wallet.ejs` `views/wallet.ejs` `id="collectibles"` `div` ``<!-- Collectibles Tab Pane -->
<div id="collectibles" class="tab-pane <%= currentTab === 'collectibles' ? 'active' : '' %>">
    <% if (collectibles && collectibles.length > 0) { %>
        <div class="collectibles-grid">
            <% collectibles.forEach(collectible => { %>
                <% if (collectible.opensea_url) { %>
                    <a href="<%= collectible.opensea_url %>" target="_blank" class="collectible-item-link">
                <% } else { %>
                    <div class="collectible-item-link">
                <% } %>
                    <div class="collectible-item">
                        <div class="collectible-image-container">
                            <% if (collectible.image_url) { %>
                                <img src="<%= collectible.image_url %>" alt="<%= collectible.collection_name || collectible.name || 'NFT' %>" class="collectible-image">
                            <% } else { %>
                                <div class="collectible-image-placeholder">
                                    NFT
                                </div>
                            <% } %>
                        </div>
                        <div class="collectible-info-static">
                            <div class="collectible-name">
                                <%= collectible.collection_name || collectible.name || `Token #${collectible.token_id}` %>
                            </div>
                            <div class="collectible-collection">
                                #<%= collectible.token_id.length > 10 ? collectible.token_id.substring(0, 8) + '...' : collectible.token_id %>
                            </div>
                        </div>
                    </div>
                <% if (collectible.opensea_url) { %>
                    </a>
                <% } else { %>
                    </div>
                <% } %>
            <% }); %>
        </div>
    <% } else if (walletAddress) { %>
        <p style="text-align: center; padding-top: 30px; color: var(--color-text-muted);">No collectibles found for this wallet.</p>
    <% } else { %>
        <p style="text-align: center; padding-top: 30px; color: var(--color-text-muted);">Enter a wallet address to see collectibles.</p>
    <% } %>
</div>
`` `collectibles` `image_url` `collection_name` `token_id` `opensea_url` `node server.js`

```

```

```

```

```

```

```

```

```

```